/* ========================================================
   全站背景设置
======================================================== */
:root {
  --theme: url("/images/Alps.jpg") center/cover no-repeat fixed; 
  /* 定义主题变量，可在 JS 或 CSS 中引用，包含背景图、居中、覆盖、固定滚动 */
}

body {
  background: none !important; /* 清除 PaperMod 默认背景变量，避免默认背景干扰 */
  background-image: url("/images/Alps.jpg") !important; /* 设置全局背景图 */
  background-size: cover !important;          /* 背景覆盖整个视口 */
  background-position: center !important;     /* 背景居中 */
  background-repeat: no-repeat !important;    /* 不平铺 */
  background-attachment: fixed !important;    /* 背景固定，滚动页面时不动 */
  background-color: transparent !important;   /* 避免默认颜色覆盖背景图 */
}
.main {
  position: relative;
  min-height: calc(100vh - var(--header-height) - var(--footer-height));
  max-width: 1200px;
  margin: auto;
  padding: var(--gap);
}

/* ========================================================
   内容区域半透明，能看到背景图
======================================================== */
.main, .post-entry, .section {
  background-color: rgba(255, 255, 255, 0.85) !important; /* 亮模式：白色半透明卡片 */
}

[data-theme="dark"] .main,
[data-theme="dark"] .post-entry,
[data-theme="dark"] .section {
  background-color: rgba(29, 30, 32, 0.85) !important; /* 暗模式：深色半透明卡片 */
}

/* -------------------
   暗模式全局调整
   ------------------- */

/* 文章卡片背景和字体 */
[data-theme="dark"] .post-entry,
[data-theme="dark"] .first-entry,
[data-theme="dark"] .tag-entry {
  background-color: rgba(29, 30, 32, 0.85);
  color: #eee;
}

/* 文章标题 */
[data-theme="dark"] .entry-title,
[data-theme="dark"] .entry-title a {
  color: #eee;
}

/* 文章摘要 */
[data-theme="dark"] .entry-content p {
  color: #eee;
}

/* 元信息 */
[data-theme="dark"] .entry-footer {
  color: #ccc;
}

/* 左右侧栏 */
[data-theme="dark"] .sidebar-left,
[data-theme="dark"] .sidebar-right {
  background-color: rgba(29, 30, 32, 0.85);
  color: #eee;
}

/* 分页按钮 */
[data-theme="dark"] .page-footer .pagination a {
  background: #444;
  color: #eee;
}

[data-theme="dark"] .page-footer .pagination a:hover {
  background: #555;
}
/* -------------------
   暗模式标签颜色
------------------- */
[data-theme="dark"] .tag-item {
  color: #eee;
}

[data-theme="dark"] .tag-html { background: #e44d26; color: #fff; }
[data-theme="dark"] .tag-css  { background: #264de4; color: #fff; }
[data-theme="dark"] .tag-js   { background: #f7df1e; color: #333; }
[data-theme="dark"] .tag-python { background: #3572A5; color: #fff; }

/* ========================================================
   三列布局容器
======================================================== */
.three-column-wrapper {
  display: flex;
  flex-wrap: nowrap;        /* 默认不换行，保证三列在同一行 */
  align-items: flex-start;  /* 顶部对齐 */
  justify-content: space-between; /* 左中右间距自动分配 */
  min-height: 100vh;        /* 容器至少占满整个视口高度 */
  gap: 20px;                /* 左中右列之间间距 */
  padding: 20px;            /* 内边距，容器与页面边缘距离 */
  box-sizing: border-box;   /* 包含 padding 和 border 在 width/height 内 */
  background: transparent;      /* 背景颜色（注意：会覆盖 body 背景图的可视部分） */
}

/* ========================================================
   左侧栏
======================================================== */
.sidebar-left {
  flex: 0 0 220px;          /* 固定宽度 220px，不会缩放 */
  background: #fff;
  padding: 20px;
  border-right: 0px solid #e0e0e0; /* 右边加分隔线 */
  display: flex;
  flex-direction: column;
  align-items: center;      /* 子元素居中对齐 */
  box-sizing: border-box;
}

/* 左侧头像 */
.sidebar-left img.avatar {
  width: 120px;
  height: 120px;
  border-radius: 50%;       /* 圆形头像 */
  margin-bottom: 15px;
}

/* 左侧标题 */
.sidebar-left h2 {
  font-size: 18px;
  margin-bottom: 5px;
  text-align: center;
}

/* 左侧描述文本 */
.sidebar-left p {
  font-size: 14px;
  margin: 2px 0;
  color: #666;
  text-align: center;
  
}
/* 基础侧栏链接样式：负责换行和布局（明暗模式通用） */
.sidebar-left a {
  display: block;            /* 关键：变为块级元素，占满侧边栏宽度 */
  width: 100%;               /* 强制宽度 */
  box-sizing: border-box;    /* 防止 padding 撑破宽度 */
  
  /* 核心换行逻辑 */
  white-space: normal !important; 
  word-break: break-all;      /* 强制在任何字符间断开，适合长 URL */
  overflow-wrap: anywhere;    /* 现代浏览器兼容性 */
  
  text-align: center;         /* 保持视觉居中 */
  padding: 5px 0;             /* 增加点击区域 */
  text-decoration: underline; /* 增强识别度 */
}
/* 亮色模式下的颜色 */
.sidebar-left a {
  color: #333; /* 或者你喜欢的深色 */
}
/* 暗模式下的颜色覆盖 */
[data-theme="dark"] .sidebar-left a {
  color: #eee !important;
}

[data-theme="dark"] .sidebar-left a:hover {
  opacity: 0.8;
}

/* ========================================================
   中间内容
======================================================== */
.main-content {
  flex: 1 1 auto;         /* 自适应宽度，占据剩余空间 */
  max-width: none;        /* 取消最大宽度限制，防止文章列表挤在中间 */
  width: 100%;            /* 占满剩余父容器宽度 */
  padding: 0 20px;        /* 左右内边距 */
  box-sizing: border-box;
}

/* ========================================================
   文章卡片
======================================================== */
.post {
  background: #fff;        /* 白色卡片背景 */
  padding: 15px 20px;      /* 内边距 */
  margin-bottom: 15px;     /* 每篇文章间距 */
  border-radius: 6px;      /* 卡片圆角 */
  box-shadow: 0 1px 3px rgba(0,0,0,0.05); /* 小阴影 */
  transition: box-shadow 0.2s; /* 悬浮过渡动画 */
}

/* 文章封面 */
.post-entry img.cover {
  width: 100%;
  max-height: 200px;
  object-fit: cover;
  border-radius: 6px 6px 0 0;
  margin-bottom: 10px;
}

.post-entry:hover, .first-entry:hover, .tag-entry:hover {
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);/* 鼠标悬停阴影加深 */
}

/* 首页第一篇文章特殊样式 */
.first-entry {
  border: 2px solid #FF4088;
}

.entry-title a {
  color: inherit;
  text-decoration: none;
}
/* Draft 状态标记 */
.entry-title a:hover {
  text-decoration: underline;
}

/* 摘要内容 */
.entry-content p {
  margin: 0 0 10px 0;
  color: #333;
}

/* 点击整篇文章链接覆盖 */
.entry-link {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  z-index: 1;
  text-indent: -9999px;
}
/*文章标题统一暗模式颜色*/
[data-theme="dark"] .entry-title,
[data-theme="dark"] .entry-title a {
    color: #eee !important;
}
[data-theme="dark"] .entry-title a:hover {
    text-decoration: underline;
}

/* 文章元信息（日期、作者等） */
.post-meta {
  font-size: 13px;
  color: #999;
  margin-bottom: 10px;
}

/* ========================================================
   右侧栏
======================================================== */
.sidebar-right {
  flex: 0 0 200px;        /* 固定宽度 */
  background: #fff;
  padding: 20px;
  border-left: 1px solid #e0e0e0; /* 左边分隔线 */
  box-sizing: border-box;
}

/* 标签列表 */
.tag-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;               /* 标签间距 */
}

/* 单个标签 */
.tag-item {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  color: #000000;
  cursor: pointer;
  transition: opacity 0.2s;
}

.tag-item:hover {
  opacity: 0.8;
}

/* 热门标签颜色示例 */
.tag-html { background: #e44d26; }
.tag-css { background: #264de4; }
.tag-js { background: #f7df1e; color:#333; }
.tag-python { background: #3572A5; }
.tag-hugo { background: #FF4088; }

/* -------------------
   分页样式
   ------------------- */
.page-footer .pagination {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 30px;
}

.page-footer .pagination a {
  padding: 6px 12px;
  border-radius: 4px;
  background: #eee;
  color: #333;
  text-decoration: none;
}

.page-footer .pagination a:hover {
  background: #ddd;
}

/* ========================================================
   小屏幕响应式处理
======================================================== */
@media screen and (max-width: 1024px) {
  .three-column-wrapper {
    flex-direction: column; /* 三列改成竖向排列 */
    gap: 15px;              /* 减小列间距 */
  }

  .sidebar-left, .sidebar-right, .main-content {
    flex: 1 1 100%;         /* 每列占满宽度 */
    max-width: 100%;        /* 避免 max-width 限制 */
  }
}
